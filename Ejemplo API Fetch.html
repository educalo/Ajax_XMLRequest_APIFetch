<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

      //La diferencia principal  es que Fetch funciona con promesas, no con devoluciones de llamada. Los desarrolladores de JavaScript se han alejado de las devoluciones de llamadas después de la introducción de las promesas.
      //1.- Solicitud GET Simple (Request). Valores por defecto
      fetch('https://api.github.com/users/manishmshiva')
        // Exito
        .then(response => response.json())  // convertir a json
        .then(json => console.log(json))    //imprimir los datos en la consola
        .catch(err => console.log('Solicitud fallida', err)); // Capturar errores

      //2.- Mas completo que el anterior, Trabajando con Headers.
        fetch('https://api.github.com/users/manishmshiva', {
          method: "GET",
          headers: {"Content-type": "application/json;charset=UTF-8"}
        })
          .then(response => response.json()) 
          .then(json => console.log(json))
          .catch(err => console.log(err));

      //3.-Trabajando con solicitud POST
      // datos mandados con la solicutud POST
      let _datos = {
        titulo: "foo",
        principal: "bar", 
        Id:1
      }

      fetch('https://jsonplaceholder.typicode.com/posts', {
        method: "POST",
        body: JSON.stringify(_datos),
        headers: {"Content-type": "application/json; charset=UTF-8"}
      })
        .then(response => response.json()) 
        .then(json => console.log(json))
        .catch(err => console.log(err));

    </script>
</body>
</html>

